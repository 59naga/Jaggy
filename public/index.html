<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <script src="pkgs.js"></script>
  <script src="jaggy.browser.min.js"></script>
  <script>
    console.log(jaggy.flush());
  </script>

  <script title="for angular.js">
    var app=angular.module('myApp',['jaggy']);
    app.config(function(jaggy){
      //default: true
      // jaggy.cache= false;

      //default: true
      // jaggy.emptyImage= false;

      //default: 0
      // jaggy.pixelLimit= 512 * 512 * 4;

      //default: 0
      // jaggy.timeout= 1;

      //default: 4
      // jaggy.glitch= 3;

      //default: false
      jaggy.debug= true;
    });
    app.run(function($rootScope,jaggy){
      $rootScope.toggle= function(){
        var normal= jaggy.glitch===4;
        jaggy.glitch= normal? 2+~~(2*Math.random()): 4;
      };

      $rootScope.rendered= function(){
        console.log('Welcome to Underground...');
      }
    });
  </script>
  <style>
    svg{width:100%}
  </style>
</head>
<body>
  <section ng-app="myApp">
    <h2>angular.js</h2>
    <p><a href="#" ng-click="toggle()">toggle glitch</a></p>
    <img ng-src="uma.gif?1430103876000" jaggy alt="for Angular.js">
    <img ng-src="uma2.gif" jaggy alt="for Angular.js">
    <img ng-src="uma.gif" jaggy alt="for Angular.js">
    <img ng-src="uma.gif" jaggy alt="for Angular.js">
    <img ng-src="uma.gif" jaggy alt="for Angular.js">
    <img ng-src="moon.png" jaggy alt="for Angular.js">
    <img ng-src="yuno.png" jaggy jagged="rendered" alt="for Angular.js">
    <!-- <img src="tumblr_n39vfaV03s1rnbw6mo1_400.gif" jaggy alt="for Angular.js"> -->
    <!-- <img src="tumblr_n39vfaV03s1rnbw6mo1_400.gif" jaggy="pixelLimit:0" alt=""> -->
  </section>
  
  <section id="vanilla">
    <h2>standalone</h2>
    <img src="uma.gif" class="jaggy">
    <img src="uma.gif" class="jaggy">
    <img src="uma.gif" class="jaggy">
    <img src="uma.gif" class="jaggy">
    <img src="uma.gif" class="jaggy">
    <img src="uma.gif" class="jaggy">
    <img src="moon.png" class="jaggy">
    <img src="yuno.png" class="jaggy">
    <img src="nothing" class="jaggy">
  </section>
</body>
</html>